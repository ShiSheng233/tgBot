<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.github.shby0527.tgbot.dao.ImgLinksMapper">
    <resultMap id="BaseResultMap" type="com.github.shby0527.tgbot.entities.ImgLinks">
        <id column="id" jdbcType="BIGINT" property="id"/>
        <result column="sha256" jdbcType="VARCHAR" property="sha256"/>
        <result column="link" jdbcType="VARCHAR" property="link"/>
        <result column="ctime" jdbcType="TIMESTAMP" property="ctime"/>
        <result column="mtime" jdbcType="TIMESTAMP" property="mtime"/>

        <!-- 0 not downloaded ,1 downloaded -->
        <result column="downloaded" jdbcType="TINYINT" property="downloaded"/>

        <!-- 作者 -->
        <result column="author" jdbcType="VARCHAR" property="author"/>

        <!-- 文件大小 -->
        <result column="file_size" jdbcType="BIGINT" property="fileSize"/>

        <!-- 图片高度 -->
        <result column="height" jdbcType="INTEGER" property="height"/>

        <!-- 图片宽度 -->
        <result column="width" jdbcType="INTEGER" property="width"/>

        <!-- 分类限制级别 -->
        <result column="rating" jdbcType="VARCHAR" property="rating"/>

        <!-- 图片ID -->
        <result column="imageId" jdbcType="BIGINT" property="imageid"/>
    </resultMap>
    <sql id="Base_Column_List">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Tue Jul 19 12:04:09 CST 2022.
        -->
        `id`, `sha256`, `link`, `ctime`, `mtime`, `downloaded`, `author`, `file_size`, `height`,
        `width`, `rating`, `imageId`
    </sql>
    <select id="selectByPrimaryKey" parameterType="java.lang.Long" resultMap="BaseResultMap">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Tue Jul 19 12:04:09 CST 2022.
        -->
        select
        <include refid="Base_Column_List"/>
        from `img_links`
        where `id` = #{id,jdbcType=BIGINT}
    </select>

    <insert id="insert">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Tue Jul 19 12:04:09 CST 2022.
        -->
        insert into `img_links` (`id`, `sha256`, `link`,
        `ctime`, `mtime`, `downloaded`,
        `author`, `file_size`, `height`,
        `width`, `rating`, `imageId`
        )
        values (#{id,jdbcType=BIGINT}, #{sha256,jdbcType=VARCHAR}, #{link,jdbcType=VARCHAR},
        #{ctime,jdbcType=TIMESTAMP}, #{mtime,jdbcType=TIMESTAMP}, #{downloaded,jdbcType=TINYINT},
        #{author,jdbcType=VARCHAR}, #{fileSize,jdbcType=BIGINT}, #{height,jdbcType=INTEGER},
        #{width,jdbcType=INTEGER}, #{rating,jdbcType=VARCHAR}, #{imageid,jdbcType=BIGINT}
        )
    </insert>
    <insert id="insertSelective">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Tue Jul 19 12:04:09 CST 2022.
        -->
        insert into `img_links`
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="id != null">
                `id`,
            </if>
            <if test="sha256 != null">
                `sha256`,
            </if>
            <if test="link != null">
                `link`,
            </if>
            <if test="ctime != null">
                `ctime`,
            </if>
            <if test="mtime != null">
                `mtime`,
            </if>
            <if test="downloaded != null">
                `downloaded`,
            </if>
            <if test="author != null">
                `author`,
            </if>
            <if test="fileSize != null">
                `file_size`,
            </if>
            <if test="height != null">
                `height`,
            </if>
            <if test="width != null">
                `width`,
            </if>
            <if test="rating != null">
                `rating`,
            </if>
            <if test="imageid != null">
                `imageId`,
            </if>
        </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            <if test="id != null">
                #{id,jdbcType=BIGINT},
            </if>
            <if test="sha256 != null">
                #{sha256,jdbcType=VARCHAR},
            </if>
            <if test="link != null">
                #{link,jdbcType=VARCHAR},
            </if>
            <if test="ctime != null">
                #{ctime,jdbcType=TIMESTAMP},
            </if>
            <if test="mtime != null">
                #{mtime,jdbcType=TIMESTAMP},
            </if>
            <if test="downloaded != null">
                #{downloaded,jdbcType=TINYINT},
            </if>
            <if test="author != null">
                #{author,jdbcType=VARCHAR},
            </if>
            <if test="fileSize != null">
                #{fileSize,jdbcType=BIGINT},
            </if>
            <if test="height != null">
                #{height,jdbcType=INTEGER},
            </if>
            <if test="width != null">
                #{width,jdbcType=INTEGER},
            </if>
            <if test="rating != null">
                #{rating,jdbcType=VARCHAR},
            </if>
            <if test="imageid != null">
                #{imageid,jdbcType=BIGINT},
            </if>
        </trim>
    </insert>
    <update id="updateByPrimaryKeySelective">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Tue Jul 19 12:04:09 CST 2022.
        -->
        update `img_links`
        <set>
            <if test="sha256 != null">
                `sha256` = #{sha256,jdbcType=VARCHAR},
            </if>
            <if test="link != null">
                `link` = #{link,jdbcType=VARCHAR},
            </if>
            <if test="ctime != null">
                `ctime` = #{ctime,jdbcType=TIMESTAMP},
            </if>
            <if test="mtime != null">
                `mtime` = #{mtime,jdbcType=TIMESTAMP},
            </if>
            <if test="downloaded != null">
                `downloaded` = #{downloaded,jdbcType=TINYINT},
            </if>
            <if test="author != null">
                `author` = #{author,jdbcType=VARCHAR},
            </if>
            <if test="fileSize != null">
                `file_size` = #{fileSize,jdbcType=BIGINT},
            </if>
            <if test="height != null">
                `height` = #{height,jdbcType=INTEGER},
            </if>
            <if test="width != null">
                `width` = #{width,jdbcType=INTEGER},
            </if>
            <if test="rating != null">
                `rating` = #{rating,jdbcType=VARCHAR},
            </if>
            <if test="imageid != null">
                `imageId` = #{imageid,jdbcType=BIGINT},
            </if>
        </set>
        where `id` = #{id,jdbcType=BIGINT}
    </update>
    <update id="updateByPrimaryKey">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Tue Jul 19 12:04:09 CST 2022.
        -->
        update `img_links`
        set `sha256` = #{sha256,jdbcType=VARCHAR},
        `link` = #{link,jdbcType=VARCHAR},
        `ctime` = #{ctime,jdbcType=TIMESTAMP},
        `mtime` = #{mtime,jdbcType=TIMESTAMP},
        `downloaded` = #{downloaded,jdbcType=TINYINT},
        `author` = #{author,jdbcType=VARCHAR},
        `file_size` = #{fileSize,jdbcType=BIGINT},
        `height` = #{height,jdbcType=INTEGER},
        `width` = #{width,jdbcType=INTEGER},
        `rating` = #{rating,jdbcType=VARCHAR},
        `imageId` = #{imageid,jdbcType=BIGINT}
        where `id` = #{id,jdbcType=BIGINT}
    </update>

    <!-- ### 以上代码由MBG + CommentPlugin自动生成, 生成时间: 2022-07-19 12:04:09 ### -->


    <!-- 下面可以写业务代码!!! -->
    <select id="getLatestImage" resultMap="BaseResultMap">
        select
        <include refid="Base_Column_List"/>
        from img_links
        order by id desc
        limit 1
    </select>
    <select id="getNearIdImage" resultMap="BaseResultMap">
        select
        <include refid="Base_Column_List"/>
        from img_links
        where id &gt;= #{id, jdbcType=BIGINT}
        order by id asc
        limit 1
    </select>
</mapper>